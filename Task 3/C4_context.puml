@startuml
!include <C4/C4_Context>

title Диаграмма контекста: открытие депозитов (MVP)

Person(клиент, "Клиент", "Физическое лицо, открывающее депозит")
System(сайт, "Сайт банка", "Ознакомление со ставками, приём заявок")
System(интернет_банк, "Интернет-банк", "Персонализированные ставки, SMS-подтверждение")
System(микросервис, "Микросервис депозитов", "Обработка заявок, кэширование ставок")
System(абс, "АБС", "Ядро банковских операций")
System(кол_центр, "Кол-центр", "Обработка входящих заявок")
System(смс_шлюз, "СМС-шлюз", "Отправка уведомлений клиентам")

Rel(клиент, сайт, "Подаёт заявку (ФИО + телефон)", "HTTPS")
Rel(клиент, интернет_банк, "Открывает депозит", "HTTPS")
Rel(сайт, кол_центр, "Передаёт заявку", "Kafka")
Rel(интернет_банк, микросервис, "Отправка данных", "REST API")
Rel(микросервис, абс, "Синхронизация данных", "Kafka")
Rel(микросервис, смс_шлюз, "Запрос на отправку SMS")
Rel(кол_центр, абс, "Подтверждение заявки", "REST API")
Rel(абс, смс_шлюз, "Уведомление")
@enduml