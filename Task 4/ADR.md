### Название задачи: Интеграция системы передачи актуальных депозитных ставок в кол-центры банка
### Автор: Архитектор Михаил
### Дата: 16.07.2025

---

### Функциональные требования

| № | Действующие лица/системы | Use Case                     | Описание                                                    |
|---|--------------------------|------------------------------|-------------------------------------------------------------|
| 1 | Микросервис депозитов    | Публикация актуальных ставок | Формирование JSON-файла с текущими ставками каждые 30 минут |
| 2 | Внутренний кол-центр     | Получение ставок через API   | Реализация REST API для запроса текущих ставок              |
| 3 | Партнерский кол-центр    | Получение файла ставок       | Автоматическая выгрузка файла по SFTP                       |
| 4 | Администратор            | Обновление ставок            | Ручное обновление ставок через админ-панель микросервиса    |

---

### Нефункциональные требования

| № | Требование                                  |
|---|---------------------------------------------|
| 1 | Частота обновления ставок - каждые 30 минут |
| 2 | Доступность API - 99.5%                     |
| 3 | Время отклика API < 500 мс                  |

---

### **Решение**

Диаграммы:
1. Диаграмма контекста — взаимодействие с системой передачи ставок в кол-центры
2. Диаграмма контейнеров — детализация системы передачи ставок.

Логика решения:
1. REST API для внутреннего кол-центра позволяет получать данные в реальном времени, соответствует текущей экспертизе команды и позволяет внести минимальные изменения в существующей CRM.
2. SFTP для партнерского кол-центра учитывает ограничения внешней системы, обеспечивает безопасную передачу данных и не требует изменений на стороне партнера.

---

### **Альтернативы**

1. Единая система API.
Преимущества: Упрощение архитектуры.
Недостатки: Не учитывает ограничения партнерской системы.

2. База данных для общего доступа:
Преимущества: Централизованное хранение.
Недостатки: Риски безопасности, сложность синхронизации.

3. Ручная рассылка по email:
Преимущества: Простота реализации.
Недостатки: Ненадежность, человеческий фактор.

---

**Недостатки, ограничения, риски**

1. Задержка обновления данных.
2. Зависимость от доступности SFTP, возможно прерывание передачи файлов.
3. Производительность API: рост нагрузки при увеличении запросов.

